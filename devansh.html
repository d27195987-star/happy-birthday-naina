<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Naina ‚ù§Ô∏è</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Montserrat:wght@300;600&display=swap');

        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            background: #0f0c29;
            background: linear-gradient(to right, #24243e, #302b63, #0f0c29);
            font-family: 'Montserrat', sans-serif;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            perspective: 1000px;
        }

        /* Moving Stars Background */
        .stars {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
            animation: twinkle var(--duration) ease-in-out infinite;
            opacity: 0;
        }

        @keyframes twinkle {
            0% { opacity: 0; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.5); }
            100% { opacity: 0; transform: scale(1); }
        }

        /* The Gift Box */
        .gift-container {
            position: relative;
            z-index: 10;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .gift-container:hover {
            transform: scale(1.1) rotate(5deg);
        }

        .gift-box {
            font-size: 100px;
            filter: drop-shadow(0 0 20px rgba(255, 105, 180, 0.6));
            animation: float 3s ease-in-out infinite;
        }

        .click-hint {
            margin-top: 20px;
            font-size: 1.2rem;
            opacity: 0.8;
            animation: pulse 1.5s infinite;
            text-align: center;
        }

        /* The Letter Card (Hidden initially) */
        .card {
            display: none;
            width: 90%;
            max-width: 450px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 40px;
            border-radius: 30px;
            box-shadow: 0 0 50px rgba(0,0,0,0.5);
            text-align: center;
            z-index: 20;
            transform: translateY(50px);
            opacity: 0;
        }

        .card.active {
            display: block;
            animation: popUp 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }

        h1 {
            font-family: 'Dancing Script', cursive;
            font-size: 3.5rem;
            margin: 0;
            background: linear-gradient(to right, #ff8a00, #e52e71);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .divider {
            height: 2px;
            width: 50px;
            background: white;
            margin: 20px auto;
            border-radius: 2px;
        }

        .message {
            font-size: 1rem;
            line-height: 1.6;
            min-height: 150px;
            text-align: left;
            color: #eee;
        }

        /* Animations */
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        @keyframes pulse {
            0% { opacity: 0.5; }
            50% { opacity: 1; }
            100% { opacity: 0.5; }
        }

        @keyframes popUp {
            to { opacity: 1; transform: translateY(0); }
        }

        .cursor {
            display: inline-block;
            width: 2px;
            height: 1em;
            background-color: white;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 0; }
            50% { opacity: 1; }
        }

    </style>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
</head>
<body>

    <div class="stars" id="star-container"></div>

    <div class="gift-container" id="gift" onclick="openGift()">
        <div class="gift-box">üéÅ</div>
        <div class="click-hint">Tap to Open</div>
    </div>

    <div class="card" id="card">
        <h1>Happy Birthday</h1>
        <h2 style="font-weight: 300; margin-top: -10px;">Naina</h2>
        <div class="divider"></div>
        <div class="message">
            <span id="typewriter"></span><span class="cursor"></span>
        </div>
        <br>
        <p style="font-size: 0.8rem; opacity: 0.7;">(Screenshots allowed üì∏)</p>
    </div>

    <script>
        // 1. Generate Stars
        const starContainer = document.getElementById('star-container');
        for(let i = 0; i < 100; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            star.style.left = Math.random() * 100 + '%';
            star.style.top = Math.random() * 100 + '%';
            star.style.setProperty('--duration', (Math.random() * 3 + 2) + 's');
            star.style.animationDelay = Math.random() * 5 + 's';
            starContainer.appendChild(star);
        }

        // 2. Open Gift Function
        function openGift() {
            const gift = document.getElementById('gift');
            const card = document.getElementById('card');

            // Hides gift, shows card
            gift.style.transition = "transform 0.5s, opacity 0.5s";
            gift.style.transform = "scale(0) rotate(180deg)";
            gift.style.opacity = "0";
            
            setTimeout(() => {
                gift.style.display = 'none';
                card.classList.add('active');
                launchConfetti();
                startTyping();
            }, 500);
        }

        // 3. Confetti Explosion
        function launchConfetti() {
            var duration = 3 * 1000;
            var animationEnd = Date.now() + duration;
            var defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 0 };

            function randomInRange(min, max) {
                return Math.random() * (max - min) + min;
            }

            var interval = setInterval(function() {
                var timeLeft = animationEnd - Date.now();

                if (timeLeft <= 0) {
                    return clearInterval(interval);
                }

                var particleCount = 50 * (timeLeft / duration);
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 } }));
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 } }));
            }, 250);
        }

        // 4. The "Indirect Love" Message Logic
        function startTyping() {
            // EDIT YOUR MESSAGE HERE IF YOU WANT
            const text = "Hey Naina... \n\nAnother year, another chapter. \n\nYou know, some people just pass through our lives, and some people stay and make everything brighter. You are definitely the second kind. \n\nI just wanted to say that you're incredibly special to me. Probably more than I say out loud. \n\nHave the happiest birthday. You deserve the world. üåé‚ú®";
            
            const typingElement = document.getElementById('typewriter');
            let index = 0;

            function type() {
                if (index < text.length) {
                    if (text.charAt(index) === '\n') {
                        typingElement.innerHTML += '<br>';
                    } else {
                        typingElement.innerHTML += text.charAt(index);
                    }
                    index++;
                    setTimeout(type, 50); // Typing speed
                } else {
                    document.querySelector('.cursor').style.display = 'none';
                }
            }
            setTimeout(type, 1000); // Wait 1 sec before starting
        }
    </script>
</body>
</html>